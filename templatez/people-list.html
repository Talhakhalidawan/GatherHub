{% extends 'base.html' %}

{% block title %}
<title>Messanger</title>
{% endblock %}
{% block favicon %}
<link rel="icon" type="image/png" sizes="16x16" href="https://i.postimg.cc/PJmtfZ79/LOGO-modified.png' border='0' alt='LOGO-modified">
{% endblock  %}

{% block body %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<nav id="navbar" class="navbar navbar-expand-lg navbar-custom bg-dark fixed-top">
  <div class="container d-flex justify-content-evenly">
    <a href="/">
      <svg class="height-res buttn-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
        version="1.1" id="Capa_1" viewBox="0 0 547.596 547.596" xml:space="preserve">
        <g>
          <path
            d="M540.76,254.788L294.506,38.216c-11.475-10.098-30.064-10.098-41.386,0L6.943,254.788   c-11.475,10.098-8.415,18.284,6.885,18.284h75.964v221.773c0,12.087,9.945,22.108,22.108,22.108h92.947V371.067   c0-12.087,9.945-22.108,22.109-22.108h93.865c12.239,0,22.108,9.792,22.108,22.108v145.886h92.947   c12.24,0,22.108-9.945,22.108-22.108v-221.85h75.965C549.021,272.995,552.081,264.886,540.76,254.788z" />
        </g>
      </svg>
    </a>
    <a href="/chat-list">
      <svg class="buttn height-res"  viewBox="0 0 24 24" id="meteor-icon-kit__solid-messanger" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 11.6407C0 4.9526 5.23944 0.000488281 12 0.000488281C18.7606 0.000488281 24 4.9526 24 11.6407C24 18.3289 18.7606 23.281 12 23.281C10.7855 23.281 9.61932 23.1216 8.52555 22.8198C8.31308 22.7619 8.08853 22.7788 7.88571 22.8681L5.50503 23.9184C4.88209 24.1912 4.17948 23.7494 4.15775 23.0685L4.09256 20.9341C4.0829 20.6709 3.96459 20.427 3.76901 20.2508C1.43421 18.1623 0 15.1393 0 11.6407ZM8.32032 9.45321L4.79517 15.0452C4.45473 15.5812 5.1163 16.1872 5.62093 15.8033L9.40684 12.9301C9.66278 12.7369 10.0153 12.7345 10.2736 12.9277L13.0769 15.0307C13.9171 15.6609 15.1195 15.4387 15.6797 14.5502L19.2048 8.95823C19.5453 8.42222 18.8837 7.81618 18.3791 8.20009L14.5932 11.0733C14.3372 11.2665 13.9847 11.2689 13.7264 11.0757L10.9231 8.97272C10.0829 8.34254 8.88048 8.56467 8.32032 9.45321Z" fill=""></path></g></svg>
    </a>
    <a href="/all_people">
      <svg class="buttn-1 height-res-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
        id="Layer_1" style="enable-background:new 0 0 30 30;" version="1.1" viewBox="0 0 30 30" xml:space="preserve">
        <path
          d="M12.684,19.993C12.382,19.732,12.139,19.417,12,19v-2c0.383-0.189,1.363-1.324,1.734-2.395  c-0.314-0.498-0.56-1.125-0.664-1.94c-0.086-0.677,0.016-1.266,0.223-1.755C13.138,10.371,13,9.696,13,9  c0-1.386,0.287-2.655,0.799-3.757C13.337,4.779,12.743,4.5,12,4.5c0,0-0.374-1.5-2.5-1.5C6.012,3,4,5.721,4,9  c0,1.104,0.528,2.214,0.528,2.214c-0.212,0.122-0.562,0.51-0.474,1.198c0.164,1.283,0.72,1.608,1.074,1.635  C5.263,15.245,6.55,16.777,7,17v2c-1,3-7,1-7,8h9C9,22.824,10.864,20.99,12.684,19.993z" />
        <g>
          <path
            d="M23,19v-2c0.45-0.223,1.737-1.755,1.872-2.952c0.354-0.027,0.91-0.352,1.074-1.635c0.088-0.689-0.262-1.076-0.474-1.198   c0,0,0.528-1.003,0.528-2.214c0-2.428-0.953-4.5-3-4.5c0,0-0.374-1.5-2.5-1.5C17.012,3,15,5.721,15,9   c0,1.104,0.528,2.214,0.528,2.214c-0.212,0.122-0.562,0.51-0.474,1.198c0.164,1.283,0.72,1.608,1.074,1.635   C16.263,15.245,17.55,16.777,18,17v2c-1,3-7,1-7,8h19C30,20,24,22,23,19z" />
        </g>
      </svg>
    </a>
    <a href="/notifications">
      <svg class="buttn-1 height-res-2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
        style="enable-background:new 0 0 24 24;" version="1.1" viewBox="0 0 24 23" xml:space="preserve">
        <g id="info" />
        <g id="icons">
          <g id="notification">
            <path
              d="M13.7,20h-3.5c-0.7,0-1.3,0.8-0.9,1.5C9.9,22.4,10.9,23,12,23s2.1-0.6,2.6-1.5C15,20.8,14.5,20,13.7,20z" />
            <path
              d="M21.8,16.7l-0.4-0.5C19.8,14.1,19,11.6,19,9V8.3c0-3.6-2.6-6.8-6.2-7.2C8.6,0.6,5,3.9,5,8v1c0,2.6-0.8,5.1-2.4,7.2    l-0.4,0.5c-0.2,0.2-0.3,0.6-0.2,0.8C2.3,18.4,3.1,19,4,19h16c0.9,0,1.7-0.6,1.9-1.5C22,17.2,21.9,16.9,21.8,16.7z" />
          </g>
        </g>
      </svg>
    </a>
  </div>
</nav>

<style>
  @media (min-width : 751px) {
    .height-res {
      width: 40px;
      height: 40px;
    }
  }

  @media (max-width : 750px) {
    .height-res {
      width: 35px;
      height: 35px;
    }
  }

  @media (min-width : 751px) {
    .height-res-1 {
      width: 47px;
      height: 47px;
    }
    .height-res-2 {
      width: 42px;
      height: 42px;
    }
  }

  @media (max-width : 750px) {
    .height-res-1 {
      width: 32px;
      height: 32px;
    }
    .height-res-2 {
      width: 32px;
      height: 32px;
    }
  }

  .buttn {
    fill: #ebac00;
  }

  .buttn:hover {
    fill: #dda200;
  }

  .buttn-1 {
    fill: white;
  }

  .buttn-1:hover {
    fill: #ebac00;
  }

  .buttn-2 {
    stroke: white;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  .buttn-2:hover {
    stroke: #ebac00;
  }
</style>
<br>
<br>
<br>

{% load my_filters %}

<section class="post-box comment-toggle">
  <div class="container">
    <div class="row d-flex justify-content-center">
      <div class="col-md-12 col-lg-10 col-xl-8">
        <h2 class="my-2 mb-3">Your Chats</h2>
        
        {% for people in followers %}
        <a href="/message/{{people.profile.uid}}" style="text-decoration: none;">
          <div class="d-flex card mb-3" style="background-color: #2a2f33; border: none; border-radius: 12px;">
            <div class=" ms-3 mb-0" style="width: 100%; margin-top: 12px;" >
            <div class="d-flex align-items-start">
              <div class="parent-image me-2">
                <img class="rounded-circle shadow-1-strong"
                  src="{{people.profile.Profile_image.url}}" alt="avatar" width="75"
                  height="75" />
                </div>
                <div class="flex-grow-1" style="margin-top: 0;">
                  <div class="d-flex justify-content-between">
                    <h6 class="fw-bold h5 text-light text-start">{{people.profile.user.first_name}}&nbsp;{{people.profile.user.last_name}}</h6>
                    <span class="text-body-secondary text-end me-5" style="font-size: 15px;">{{people.messages.message_date|facebook_timestamp1}}</span>
                  </div>
                  <p class="text-light" style="font-size: 14px;">
                  {% if people.messages %}
                    {{ people.messages.message_body }}  
                  {% else %}
                    You're connected with {{people.profile.user.first_name}}&nbsp;{{people.profile.user.last_name}} on messanger
                  {% endif %}</p>
                </div>
              </div>
            </div>
          </div>
        </a>
        {% endfor %}


      </div>
    </div>
  </div>
</section>




<style>
  .parent-image {
    height: 60px;
    width: 60px;
    overflow: hidden;
  }

  .parent-image img {
    height: 100%;
    width: 100%;
    object-fit: cover;
  }
</style>

{% endblock %}